(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{288:function(e,t,s){"use strict";s.r(t);var n,i=s(12),o=s(21);class a{constructor(...e){2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?this.set(e[0],e[1]):1===e.length&&e[0]instanceof a?this.set(e[0]):this.set(0,0)}set(...e){let t=0,s=0;1===e.length?e[0]instanceof a&&(t=e[0].x,s=e[0].y):2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&(t=e[0],s=e[1]),this.x=t,this.y=s}scale(e){return this.x*=e,this.y*=e,this}add(e){return this.x+=e.x,this.y+=e.y,this}subtract(e){return this.x-=e.x,this.y-=e.y,this}getDistance(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}getCenter(e){return new a((this.x+e.x)/2,this.y/e.y/2)}static scale(e,t){const s=new a(e);return s.scale(t),s}static add(e,t){const s=new a(e);return s.add(t),s}static subtract(e,t){const s=new a(e);return s.subtract(t),s}}class h extends class{constructor(e){this.position=new a(e)}setPosition(...e){2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?this.position.set(e[0],e[1]):1===e.length&&e[0]instanceof a&&this.position.set(e[0])}getPosition(){return this.position}getX(){return this.position.x}getY(){return this.position.y}}{constructor(e,t,s){super(e),this.width=t,this.height=s}setDimensions(e,t){this.width=e,this.height=t}setWidth(e){this.width=e}setHeight(e){this.height=e}getWidth(){return this.width}getHeight(){return this.height}isPointInside(e){return e.x>=this.position.x&&e.x<=this.position.x+this.width&&e.y>=this.position.y&&e.y<=this.position.y+this.height}}!function(e){e[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT"}(n||(n={}));class r{constructor(){this.mousePosition=new a,this.mouseButtons={LEFT:!1,MIDDLE:!1,RIGHT:!1},this.keys={},this.wheel=0,this.doubleClicked=!1,this.propagate=!0}static GetInstance(){return r.instance||(r.instance=new r),r.instance}getMousePosition(){return this.mousePosition}getMouseButtons(){return this.propagate?this.mouseButtons:{LEFT:!1,MIDDLE:!1,RIGHT:!1}}getKeys(){return this.keys}getWheel(){return this.wheel}getDoubleClicked(){return this.doubleClicked}stopPropagation(){this.propagate=!1}restoreState(){this.wheel=0,this.doubleClicked=!1,this.propagate=!0}onPointerMove(e){e.preventDefault();const t=e.currentTarget.getBoundingClientRect();this.mousePosition.set((e.clientX-t.left)*(e.currentTarget.width/t.width),(e.clientY-t.top)*(e.currentTarget.height/t.height))}onPointerDown(e){switch(e.preventDefault(),e.currentTarget.focus(),e.button){case n.LEFT:this.mouseButtons.LEFT=!0;break;case n.MIDDLE:this.mouseButtons.MIDDLE=!0;break;case n.RIGHT:this.mouseButtons.RIGHT=!0}}onPointerUp(e){switch(e.preventDefault(),e.button){case n.LEFT:this.mouseButtons.LEFT=!1;break;case n.MIDDLE:this.mouseButtons.MIDDLE=!1;break;case n.RIGHT:this.mouseButtons.RIGHT=!1}}onPointerEnter(e){e.preventDefault()}onPointerLeave(e){e.preventDefault(),this.mousePosition.set(-1,-1),this.mouseButtons={LEFT:!1,MIDDLE:!1,RIGHT:!1}}onDoubleClick(e){e.preventDefault(),this.doubleClicked=!0}onWheel(e){e.preventDefault(),this.wheel=e.deltaY}onKeyDown(e){e.preventDefault(),this.keys[e.key]=!0}onKeyUp(e){e.preventDefault(),this.keys[e.key]=!1}}var c=r.GetInstance();class u{constructor(e=!0,t=!1){this.visible=e,this.draggable=t,this.active=!1}setVisible(e){this.visible=e}setDraggable(e){this.draggable=e}getVisible(){return this.visible}getDraggable(){return this.draggable}update(e){const t=d.screenToWorld(c.getMousePosition()),s=c.getMouseButtons().LEFT;if(this.active)if(s){const e=this.getRect();this.setPosition(new a(t.x-e.getWidth()/2,t.y-e.getHeight()/2)),c.stopPropagation()}else this.active=!1;this.visible&&this.draggable&&s&&this.getRect().isPointInside(t)&&(this.active=!0,c.stopPropagation())}}class l extends u{constructor(e,t,s,n,i,o){var r,c;super(i,o);const u=d.getImages().get(e);this.image=void 0!==u?u:new Image,this.srcRect=void 0!==t?t:new h(new a,this.image.width,this.image.height),this.dstRect=void 0!==s?s:new h(new a,null!==(r=this.image.width)&&void 0!==r?r:1920,null!==(c=this.image.height)&&void 0!==c?c:1080),this.scale=void 0!==n?n:new a(1,1),this.dstRect.setWidth(this.dstRect.getWidth()*this.scale.x),this.dstRect.setHeight(this.dstRect.getHeight()*this.scale.y)}setRects(e,t){this.srcRect=void 0!==e?e:new h(new a,this.image.width,this.image.height),this.dstRect=void 0!==t?t:new h(new a,this.image.width,this.image.height)}setSourceRect(e){this.srcRect=void 0!==e?e:new h(new a,this.image.width,this.image.height)}setDestinationRect(e){this.dstRect=void 0!==e?e:new h(new a,this.image.width,this.image.height)}setPosition(e){this.dstRect.setPosition(e.x,e.y)}getSourceRect(){return this.srcRect}getRect(){return this.dstRect}render(){if(this.visible){const e=d.getContext();e.save(),e.drawImage(this.image,this.srcRect.getX(),this.srcRect.getY(),this.srcRect.getWidth(),this.srcRect.getHeight(),this.dstRect.getX(),this.dstRect.getY(),this.dstRect.getWidth(),this.dstRect.getHeight()),d.getDebug()&&(e.save(),e.strokeStyle="red",e.strokeRect(this.dstRect.getX(),this.dstRect.getY(),this.dstRect.getWidth(),this.dstRect.getHeight()),e.restore()),e.restore()}}}var g=s(19),p=s(49);class w{constructor(){this.debug=!1,this.images=new Map,this.loaded=0,this.offset=new a,this.scale=new a(1,1),this.players=new Map}static GetInstance(){return w.instance||(w.instance=new w),w.instance}setDebug(e){this.debug=e}setContext(e){this.context=e}setTheme(e){this.theme=e}setImages(e){for(let t=0;t<e.length;t+=2){const s=new Image;this.images.set(e[t],s),s.src=e[t+1],s.onload=()=>{this.loaded++}}}setOffset(e,t){this.offset.set(e,t)}setScale(e,t){this.scale.set(e,t)}getDebug(){return this.debug}getContext(){return this.context}getImages(){return this.images}getTheme(){return this.theme}getOffset(){return this.offset}getScale(){return this.scale}getPlayers(){return this.players}isLoaded(){return this.loaded===this.images.size}screenToWorld(e){const t=a.add(e,this.offset);return t.x/=this.scale.x,t.y/=this.scale.y,t}updatePlayers(){const e=p.a.getState(),t=Object(g.c)(e),s=Object(i.d)(e),n=Object(i.h)(e);for(const e of Object.keys(t)){const i=t[e];let r=o.b[e].alive,c=!0,u=!0;i.section===s?r=o.b[e].dead:i.section===n&&(c=!1,u=!1);const g=new h(new a(r.x,r.y),r.w,r.h),p=this.players.get(e);if(void 0!==p){const e=p.getRect(),t=p.getSourceRect();e.getWidth()===t.getWidth()&&e.getHeight()===t.getHeight()&&p.setDestinationRect(new h(e.getPosition(),g.getWidth(),g.getHeight())),p.setSourceRect(g),p.setVisible(c),p.setDraggable(u)}else this.players.set(e,new l("Players",g,g,void 0,c,u))}}}var d=w.GetInstance();class m{constructor(e=!0){this.entities=[],this.visible=e}setVisible(e){this.visible=e}getVisible(){return this.visible}update(e){for(let t=this.entities.length-1;t>=0;t--)this.entities[t].update(e)}render(){if(this.visible)for(const e of this.entities)e.render()}}const y={x:0,y:0,w:208,h:45},f={x:612,y:0,w:144,h:45},x={x:416,y:0,w:196,h:42},b={x:208,y:0,w:208,h:45},v=756,P=0,M=45,R=45,S="rgba(0, 0, 0, 0.8)",T="rgba(255, 255, 255, 0.8)";class I{constructor(){this.layers=[]}update(e){for(let t=this.layers.length-1;t>=0;t--)this.layers[t].update(e)}render(){const e=d.getContext(),t=e.canvas.width,s=e.canvas.height;e.clearRect(0,0,t,s);const n=d.getOffset(),i=d.getScale();e.save(),e.translate(-n.x,-n.y),e.scale(i.x,i.y);for(const e of this.layers)e.render();e.restore()}}class D{constructor(){this.scenes=new Map,this.currentScene=""}static GetInstance(){return D.instance||(D.instance=new D),D.instance}addScene(e,t){this.scenes.set(e,t)}delScene(e){this.scenes.delete(e)}changeScene(e){var t,s;if(!this.scenes.has(e))throw new Error(e+" no such a scene.");""!==this.currentScene&&(null===(t=this.scenes.get(this.currentScene))||void 0===t||t.onExit()),null===(s=this.scenes.get(e))||void 0===s||s.onEnter(),this.currentScene=e}getCurrentScene(){return this.currentScene}update(e){const t=this.scenes.get(this.currentScene);void 0!==t&&t.update(e)}render(){const e=this.scenes.get(this.currentScene);void 0!==e&&e.render()}}var k=D.GetInstance();class H extends u{constructor(e,t,s=!0,n=20,i="black",o="white",r=8,c,u){super(c,u),this.text=e,this.position=t,this.center=s,this.fontSize=n,this.strokeStyle=i,this.fillStyle=o,this.lineWidth=r,this.rect=new h(new a,0,n),this.setRect()}setPosition(e){this.position.set(e),this.center&&this.position.set(e.x+this.rect.getWidth()/2,e.y+this.rect.getHeight()/2);let t=this.position.x,s=this.position.y;this.center&&(t-=this.rect.getWidth()/2,s-=this.fontSize/2),this.rect.setPosition(t,s)}setText(e){this.text=e,this.setRect()}getPosition(){return this.position}getRect(){return this.rect}render(){const e=d.getContext();""!=this.text&&this.visible&&(e.save(),e.textBaseline="top",this.center&&(e.textBaseline="middle",e.textAlign="center"),e.font=`${this.fontSize}px ${d.getTheme().fontFamily}`,e.strokeStyle=this.strokeStyle,e.fillStyle=this.fillStyle,e.lineWidth=this.lineWidth,e.strokeText(this.text,this.position.x,this.position.y),e.fillText(this.text,this.position.x,this.position.y),d.getDebug()&&(e.strokeStyle="red",this.center&&(e.fillStyle="red",e.beginPath(),e.arc(this.position.x,this.position.y,this.lineWidth,0,2*Math.PI),e.fill()),e.strokeRect(this.rect.getX(),this.rect.getY(),this.rect.getWidth(),this.rect.getHeight())),e.restore())}setRect(){const e=d.getContext();e.save(),e.font=`${this.fontSize}px ${d.getTheme().fontFamily}`;const t=e.measureText(this.text).width;e.restore();let s=this.position.x,n=this.position.y;this.center&&(s-=t/2,n-=this.fontSize/2),this.rect.setPosition(s,n),this.rect.setWidth(t)}}class E extends I{constructor(){super();const e=new m;e.entities.push(new H("Choose a map:",new a(960,400),!0,60)),e.entities.push(new l("Logos",new h(new a(y.x,y.y),y.w,y.h),new h(new a(500,500),400,90))),e.entities.push(new l("Logos",new h(new a(f.x,f.y),f.w,f.h),new h(new a(1100,500),400,90))),e.entities.push(new l("Logos",new h(new a(x.x,x.y),x.w,x.h),new h(new a(500,620),400,90))),e.entities.push(new l("Logos",new h(new a(b.x,b.y),b.w,b.h),new h(new a(1100,620),400,90))),this.layers.push(e)}onEnter(){d.setOffset(0,0),d.setScale(1,1)}onExit(){}update(){if(c.getMouseButtons().LEFT){const e=c.getMousePosition(),t=this.layers[0].entities;for(let s=1;s<t.length;s++){if(t[s].getRect().isPointInside(e)){switch(s){case 1:k.changeScene("MiraHQ");break;case 2:k.changeScene("Polus");break;case 3:k.changeScene("TheAirship");break;default:k.changeScene("TheSkeld")}break}}}}}class C extends u{constructor(e,t,s){super(!0,s);const n=d.getPlayers().get(e);if(this.color=e,void 0===n)throw new Error(e+" has no image.");if(this.image=n,void 0===t){const e=n.getSourceRect();this.rect=new h(new a,e.getWidth(),e.getHeight())}else this.rect=t}setPosition(e){this.rect.setPosition(e)}getRect(){return this.rect}getColor(){return this.color}isPointInRect(e){return this.visible&&this.rect.isPointInside(e)}render(){const e=this.image.getRect();this.image.setDestinationRect(this.rect),this.image.render(),this.image.setDestinationRect(e)}}class L extends m{addPlayer(e,t){const s=new C(e,void 0,!0),n=s.getRect(),i=new a(t);i.x-=n.getWidth()/2,i.y-=n.getHeight()/2,s.setPosition(i),this.entities.push(s)}clear(){this.entities=[]}}var W=s(33);class F extends m{constructor(e=!1){super(e),this.center=new a,this.colors=["black","blue","brown","cyan","green","lime","orange","pink","purple","red","white","yellow"]}openMenu(){this.center.set(c.getMousePosition());const e=p.a.getState(),t=Object(g.c)(e),s=Object(i.h)(e);this.colors=["black","blue","brown","cyan","green","lime","orange","pink","purple","red","white","yellow"],this.colors=this.colors.filter(e=>t[e].section!==s),this.visible=!0}getCenter(){return this.center}pointInPolygon(e,t){const s=e.length;let n=0,i=0,o=e[0],a=e[0];for(let h=1;h<=s;h++)a=e[h%s],t.y>Math.min(o.y,a.y)&&t.y<=Math.max(o.y,a.y)&&t.x<=Math.max(o.x,a.x)&&o.y!==a.y&&(i=(t.y-o.y)*(a.x-o.x)/(a.y-o.y)+o.x,(o.x===a.x||t.x<=i)&&n++),o=a;return!(n%2==0)}getColorFromPosition(e){const t=2*Math.PI/this.colors.length;let s=0;for(const n of this.colors){const i=new a(this.center.x+40*Math.sin(s),this.center.y+40*Math.cos(s)),o=new a(this.center.x+100*Math.sin(s),this.center.y+100*Math.cos(s)),h=new a(this.center.x+100*Math.sin(s+t),this.center.y+100*Math.cos(s+t)),r=new a(this.center.x+40*Math.sin(s+t),this.center.y+40*Math.cos(s+t));if(this.pointInPolygon([i,o,h,r],e))return n;s+=t}return null}render(){if(this.visible){const e=d.getContext(),t=2*Math.PI/this.colors.length;let s=0;e.save(),e.lineWidth=1;for(const n of this.colors)e.fillStyle=W.a[n].base,e.beginPath(),e.moveTo(this.center.x+40*Math.sin(s),this.center.y+40*Math.cos(s)),e.lineTo(this.center.x+100*Math.sin(s),this.center.y+100*Math.cos(s)),e.lineTo(this.center.x+100*Math.sin(s+t),this.center.y+100*Math.cos(s+t)),e.lineTo(this.center.x+40*Math.sin(s+t),this.center.y+40*Math.cos(s+t)),e.closePath(),e.fill(),s+=t;e.restore()}}}class B extends I{constructor(e,t){super(),this.panning=!1,this.panningPosition=new a;const s=new m;s.entities.push(new l(e,void 0,void 0,new a(t,t))),s.entities.push(new l(e+"Vents",void 0,void 0,new a(t,t))),this.layers.push(s),this.offset=new a(0,0),this.scale=new a(1,1),this.hub=new m,this.hub.entities.push(new l("Logos",new h(new a(v,P),M,R),new h(new a(1900-3*M,20),3*M,3*R))),this.menu=new F,this.players=new L;const n=d.getContext(),i=n.canvas.width,o=n.canvas.height,r=d.getImages().get(e);null!=r&&(this.scale.x=i/(r.width*t),this.scale.y=o/(r.height*t))}onEnter(){d.setOffset(this.offset.x,this.offset.y),d.setScale(this.scale.x,this.scale.y)}onExit(){this.offset.set(d.getOffset()),this.scale.set(d.getScale())}update(e){const t=c.getMousePosition();if(this.menu.getVisible()){if(!c.getMouseButtons().RIGHT){const e=this.menu.getColorFromPosition(t);null!==e&&this.players.addPlayer(e,d.screenToWorld(this.menu.getCenter())),this.menu.setVisible(!1)}c.stopPropagation()}let s=!1;this.panning&&c.getMouseButtons().LEFT&&(d.getOffset().subtract(a.subtract(t,this.panningPosition)),this.panningPosition.set(t),c.stopPropagation(),s=!0),super.update(e),c.getMouseButtons().LEFT?this.hub.entities[0].getRect().isPointInside(t)?(k.changeScene("Menu"),c.stopPropagation()):this.panning||(this.panning=!0,this.panningPosition.set(t)):!s&&this.panning&&(this.panning=!1);const n=c.getWheel();if(n){const e=d.screenToWorld(t);n>0?(d.getScale().x*=.9,d.getScale().y*=.9):n<0&&(d.getScale().x*=1.1,d.getScale().y*=1.1);const s=d.screenToWorld(t);e.subtract(s),e.x*=d.getScale().x,e.y*=d.getScale().y,d.getOffset().add(e)}c.getMouseButtons().RIGHT&&this.menu.openMenu(),c.getDoubleClicked()&&this.players.clear();const i=c.getKeys();(i.M||i.m)&&k.changeScene("Menu"),(i.C||i.c)&&this.players.clear(),c.restoreState()}render(){super.render(),this.hub.render(),this.menu.render()}}var G=s(76);class O extends B{constructor(){super("MiraHQ",2);const e=new m;e.entities.push(new H(G.a.t("maps.greenhouse"),new a(8e3,1900),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.office"),new a(7200,3300),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.admin"),new a(8750,3300),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.reactor"),new a(4e3,5200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.laboratory"),new a(5800,5200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.decontamination"),new a(4900,6e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.launchpad"),new a(2e3,7100),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.lockerRoom"),new a(5900,6800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.communications"),new a(7300,7100),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.medBay"),new a(7300,8e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.storage"),new a(8425,6650),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.cafeteria"),new a(1e4,6650),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.balcony"),new a(9550,8450),!0,200,S,T,30)),this.layers.push(e),this.layers.push(this.players)}}class V extends B{constructor(){super("Polus",4);const e=new m;e.entities.push(new H(G.a.t("maps.dropship"),new a(4600,1e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.security"),new a(950,3700),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.electrical"),new a(2600,3850),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.storage"),new a(5600,3800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.laboratory"),new a(9400,2800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.o2"),new a(800,5200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.communications"),new a(3200,5e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.office"),new a(5400,5300),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.weapons"),new a(3400,6800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.admin"),new a(6400,6600),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.specimenRoom"),new a(9800,6e3),!0,200,S,T,30)),this.layers.push(e),this.layers.push(this.players)}}class A extends B{constructor(){super("TheAirship",2);const e=new m;e.entities.push(new H(G.a.t("maps.meetingRoom"),new a(7800,800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.vault"),new a(3500,1200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.brig"),new a(5300,2e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.gapRoom"),new a(7e3,2e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.records"),new a(9700,1600),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.lounge"),new a(11400,2700),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.cockpit"),new a(1e3,3800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.communications"),new a(2600,3600),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.engineRoom"),new a(5e3,4100),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.mainHall"),new a(7800,3900),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.showers"),new a(1e4,3800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.cargoBay"),new a(13e3,4100),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.armory"),new a(2800,5200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.viewingDeck"),new a(2600,6600),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.kitchen"),new a(4400,6300),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.security"),new a(6900,6600),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.electrical"),new a(8900,5800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.medical"),new a(10600,6e3),!0,200,S,T,30)),this.layers.push(e),this.layers.push(this.players)}}class j extends B{constructor(){super("TheSkeld",1);const e=new m;e.entities.push(new H(G.a.t("maps.upperEngine"),new a(1800,1400),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.cafeteria"),new a(4800,1400),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.weapons"),new a(6600,1100),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.reactor"),new a(1200,2200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.security"),new a(2600,2200),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.medBay"),new a(3400,1800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.o2"),new a(6200,1900),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.navigation"),new a(7600,2100),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.lowerEngine"),new a(1800,3e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.electrical"),new a(3600,2800),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.storage"),new a(4700,3300),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.admin"),new a(5800,3e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.communications"),new a(5800,4e3),!0,200,S,T,30)),e.entities.push(new H(G.a.t("maps.shields"),new a(6400,3500),!0,200,S,T,30)),this.layers.push(e),this.layers.push(this.players)}}class K extends I{constructor(){super(),d.setImages(["MiraHQ","assets/images/MiraHQ.png","MiraHQVents","assets/images/MiraHQVents.png","Polus","assets/images/Polus.png","PolusVents","assets/images/PolusVents.png","TheAirship","assets/images/TheAirship.png","TheAirshipVents","assets/images/TheAirshipVents.png","TheSkeld","assets/images/TheSkeld.png","TheSkeldVents","assets/images/TheSkeldVents.png","Players","assets/images/players.png","Logos","assets/images/logos.png"]);const e=d.getContext(),t=new m;t.entities.push(new H("Loading...",new a(e.canvas.width/2,e.canvas.height/2-50),!0,100)),t.entities.push(new H("chasing some Sock",new a(e.canvas.width/2,e.canvas.height/2+50),!0,20)),this.layers.push(t)}onEnter(){}onExit(){}update(){d.isLoaded()&&(k.addScene("Menu",new E),k.addScene("MiraHQ",new O),k.addScene("Polus",new V),k.addScene("TheAirship",new A),k.addScene("TheSkeld",new j),k.changeScene("Menu"))}}class z{constructor(){this.animFrame=0}static GetInstance(){return z.instance||(z.instance=new z),z.instance}getAnimFrame(){return this.animFrame}init(){const e=d.getContext(),t=d.getTheme();if(void 0===e&&null===e||void 0===t&&null===t)throw new Error("Context and theme must be set before initializing the animation.");k.addScene("Loading",new K),k.changeScene("Loading"),this.loop(0)}update(e){k.update(e)}render(){k.render()}loop(e){Q.update(e),Q.render(),Q.animFrame=window.requestAnimationFrame(Q.loop)}}const Q=z.GetInstance();var Y={Main:Q,Config:d,InputHandler:c,SceneManager:k},U=s(0),X=s.n(U),$=s(31),q=s(15),J=Object(q.d)({Maps:{padding:"1rem",flexGrow:1,maxHeight:"calc((var(--vh, 1vh) * 100) - 2.2rem)",fallbacks:{maxHeight:"calc(100vh - 2.2rem)"}},MapsCanvas:{width:"100%",height:"100%",overscrollBehavior:"none",touchAction:"none","&:focus":{outline:"none"}}}),N=s(23);t.default=function(){const e=J(),t=Object(N.c)(),s=Object($.c)(g.c),n=Object($.c)(i.e),o=Object($.c)(i.d),a=Object($.c)(i.h),h=X.a.useRef(null);return X.a.useEffect(()=>{if(null!==h.current){const e=h.current.getContext("2d");if(null!==e)return Y.Config.setDebug(!1),Y.Config.setContext(e),Y.Config.setTheme(t),Y.Main.init(),()=>{cancelAnimationFrame(Y.Main.getAnimFrame())}}},[]),X.a.useEffect(()=>{Y.Config.setTheme(t)},[t]),X.a.useEffect(()=>{Y.Config.updatePlayers()},[s,n,o,a]),X.a.createElement("div",{className:e.Maps},X.a.createElement("canvas",{tabIndex:1,ref:h,width:1920,height:1080,className:e.MapsCanvas,onContextMenu:e=>e.preventDefault(),onPointerMove:e=>Y.InputHandler.onPointerMove(e),onPointerDown:e=>Y.InputHandler.onPointerDown(e),onPointerUp:e=>Y.InputHandler.onPointerUp(e),onPointerEnter:e=>Y.InputHandler.onPointerEnter(e),onPointerLeave:e=>Y.InputHandler.onPointerLeave(e),onDoubleClick:e=>Y.InputHandler.onDoubleClick(e),onWheel:e=>Y.InputHandler.onWheel(e),onKeyDown:e=>Y.InputHandler.onKeyDown(e),onKeyUp:e=>Y.InputHandler.onKeyUp(e)},"This section is not supported on your browser."))}}}]);